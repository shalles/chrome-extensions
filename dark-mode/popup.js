(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();function s(n){return n<10?`0${n}`:n}function y(n,o){window.localStorage.setItem(`dark-mode-2c9ef1a:${n}`,o)}function b(n){return window.localStorage.getItem(`dark-mode-2c9ef1a:${n}`)}function l(n,o){n.style.display=o?"flex":"none"}function v({enableTypeElement:n,timeRangeElement:o}){const i=b("enableType")||"never";if(n.value=i,i==="time-range"){l(o,!0);try{const{begin:r,end:e}=JSON.parse(b("timeRange")),t=o.querySelectorAll('[name="timeRange"]');if(r&&t[0]&&(t[0].value=`${s(r/100|0)}:${s(r%100)}`),e&&t[1]){const a=e/100|0;t[1].value=`${s(a>24?a-24:a)}:${s(e%100)}`}}catch(r){console.log(r)}}}function O(){const n=document.querySelector(".popup__form--2c9ef1a"),o=n.querySelector(".enable-type-selector"),i=n.querySelector(".time-range");v({enableTypeElement:o,timeRangeElement:i}),o.addEventListener("change",()=>{new FormData(n).get("enableType")==="time-range"?l(i,!0):l(i,!1)},!1),n.addEventListener("submit",async r=>{var c,u,f,d;r.preventDefault(),r.stopPropagation();const e=new FormData(n),t=e.get("enableType");if(y("enableType",t),t==="time-range"){const g=e.getAll("timeRange"),m=+((c=g[0])==null?void 0:c.replace(":","")),p=+((u=g[1])==null?void 0:u.replace(":",""));y("timeRange",JSON.stringify({begin:m,end:p}));const h=await chrome.tabs.query({active:!0});return chrome.tabs.sendMessage((f=h[0])==null?void 0:f.id,JSON.stringify({enableType:t,timeRange:{begin:m,end:p}}),{},w=>{console.log(w),window.close()})}const a=await chrome.tabs.query({active:!0});chrome.tabs.sendMessage((d=a[0])==null?void 0:d.id,JSON.stringify({enableType:t})),window.close()},!1)}O();
